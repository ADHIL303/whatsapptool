<!DOCTYPE html>
<html>
<head>
    <title>All Contact Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

    <h2 class="mb-4">ðŸ“‡ All Contact Details</h2>

   <!-- Filter Form -->
<form method="post" action="/contacts" class="mb-4" >
    <div class="row g-2">
        <!-- Category Filter -->
        <div class="col-md-3">
         <select name="category" class="form-select" >
                <option value="">All Categories</option>
                {% for cat in categories %}
                    <option value="{{ cat }}" >{{cat}}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Username Filter -->
        <div class="col-md-3">
            <select name="username" class="form-select" >
                <option value="">All Usernames</option>
                {% for user in usernames %}
                    <option value="{{ user }}" >{{ user }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Title Filter -->
        <div class="col-md-3">
            <select name="title" class="form-select"   >
                <option value="">All Group Titles</option>
                {% for title in titles %}
                    <option value="{{ title }}" >{{ title }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Submit Button -->
        <div class="col-md-3">
           <button type="submit" name="action" value="filter" class="btn btn-success w-100 mt-2">ðŸŽ¯ Filter</button>
           <button type="submit" name="action" value="send" class="btn btn-primary w-100 mt-2">ðŸ“¤ Send Message</button>

    </table>
        </div>
    </div>
</form>


    <!-- Contact Table -->
    <table class="table table-bordered table-striped">
        <thead class="table-light">
            <tr>
                <th>ID</th>
                <th>Group Title</th>
                <th>Category</th>
                <th>Username</th>
                <th>Phone</th>
            </tr>
        </thead>
        <tbody>
            {% for contact in contacts %}
                <tr>
                    <td>{{ contact.id }}</td>
                    <td>{{ contact.group_title }}</td>
                    <td>{{ contact.category }}</td>
                    <td>{{ contact.username }}</td>
                    <td>{{ contact.phone }}</td>
                </tr>
            {% else %}
                <tr><td colspan="5" class="text-center">No contacts found.</td></tr>
            {% endfor %}
        </tbody>
                 

</body>
</html>
